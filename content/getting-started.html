---
title: "Getting started"
weight: 2
---


<div id="r-markdown" class="section level2">
<h2>R Markdown</h2>
<p>This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <a href="http://rmarkdown.rstudio.com" class="uri">http://rmarkdown.rstudio.com</a>.</p>
<p>When you click the <strong>Knit</strong> button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:</p>
<pre class="r"><code>summary(cars)</code></pre>
<pre><code>##      speed           dist       
##  Min.   : 4.0   Min.   :  2.00  
##  1st Qu.:12.0   1st Qu.: 26.00  
##  Median :15.0   Median : 36.00  
##  Mean   :15.4   Mean   : 42.98  
##  3rd Qu.:19.0   3rd Qu.: 56.00  
##  Max.   :25.0   Max.   :120.00</code></pre>
</div>
<div id="including-plots" class="section level2">
<h2>Including Plots</h2>
<p>You can also embed plots, for example:</p>
<p><img src="/getting-started_files/figure-html/pressure-1.png" width="672" /></p>
</div>
<div id="note-that-the-echo-false-parameter-was-added-to-the-code-chunk-to-prevent-printing-of-the-r-code-that-generated-the-plot." class="section level1">
<h1>Note that the <code>echo = FALSE</code> parameter was added to the code chunk to prevent printing of the R code that generated the plot.</h1>
<p>title: “Analyzing data using dplyr” output: html_document: toc: true toc_depth: 3 toc_float: collapsed: false —</p>
<div id="install-dbplyr" class="section level2">
<h2>Install dbplyr</h2>
<p>The new <a href="https://github.com/hadley/dbplyr">dbplyr</a> package has all of <em>dplyr</em>’s code related to databases, including the code that translates dplyr commands into vendor specific SQL commands. This separation will make it easier to release fixes for bugs that relate to database management.</p>
<pre class="r"><code>devtools::install_github(&quot;hadley/dbplyr&quot;)</code></pre>
</div>
<div id="connect-to-the-database" class="section level2">
<h2>Connect to the Database</h2>
<p>The <a href="drivers.html">Drivers</a> section describes how to accomplish that.</p>
</div>
<div id="using-dplyr" class="section level2">
<h2>Using dplyr</h2>
<div id="table-reference-with-tbl" class="section level3">
<h3>Table reference with ‘tbl’</h3>
<pre class="r"><code>library(dplyr)
library(dbplyr)

mssql_flights &lt;- tbl(con, &quot;flights&quot;)

mssql_flights</code></pre>
<pre><code>## Source:     table&lt;flights&gt; [?? x 19]
## Database:   Microsoft SQL Server 12.00.4422[rstudioadmin@EC2AMAZ-O5QKKM8/airontime]
## 
##     year month   day dep_time sched_dep_time dep_delay arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
## 1   2013     1     1      517            515         2      830
## 2   2013     1     1      533            529         4      850
## 3   2013     1     1      542            540         2      923
## 4   2013     1     1      544            545        -1     1004
## 5   2013     1     1      554            600        -6      812
## 6   2013     1     1      554            558        -4      740
## 7   2013     1     1      555            600        -5      913
## 8   2013     1     1      557            600        -3      709
## 9   2013     1     1      557            600        -3      838
## 10  2013     1     1      558            600        -2      753
## # ... with more rows, and 12 more variables: sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
<div id="data-wrangling" class="section level3">
<h3>Data Wrangling</h3>
<pre class="r"><code>mssql_flights %&gt;%
  group_by(month) %&gt;%
  tally %&gt;%
  arrange(month)</code></pre>
<pre><code>## Source:     lazy query [?? x 2]
## Database:   Microsoft SQL Server 12.00.4422[rstudioadmin@EC2AMAZ-O5QKKM8/airontime]
## Ordered by: month
## 
##    month     n
##    &lt;int&gt; &lt;int&gt;
## 1      1 27004
## 2      2 24951
## 3      3 28834
## 4      4 28330
## 5      5 28796
## 6      6 28243
## 7      7 29425
## 8      8 29327
## 9      9 27574
## 10    10 28889
## # ... with more rows</code></pre>
</div>
<div id="table-joins" class="section level3">
<h3>Table Joins</h3>
<pre class="r"><code>mssql_flights %&gt;%
  left_join(tbl(con, &quot;airlines&quot;), by = &quot;carrier&quot;) %&gt;%
  group_by(name) %&gt;%
  tally %&gt;%
  arrange(desc(n))</code></pre>
<pre><code>## Source:     lazy query [?? x 2]
## Database:   Microsoft SQL Server 12.00.4422[rstudioadmin@EC2AMAZ-O5QKKM8/airontime]
## Ordered by: desc(n)
## 
##                        name     n
##                       &lt;chr&gt; &lt;int&gt;
## 1     United Air Lines Inc. 58665
## 2           JetBlue Airways 54635
## 3  ExpressJet Airlines Inc. 54173
## 4      Delta Air Lines Inc. 48110
## 5    American Airlines Inc. 32729
## 6                 Envoy Air 26397
## 7           US Airways Inc. 20536
## 8         Endeavor Air Inc. 18460
## 9    Southwest Airlines Co. 12275
## 10           Virgin America  5162
## # ... with more rows</code></pre>
</div>
</div>
</div>
